{"ast":null,"code":"var _jsxFileName = \"/Users/23miec/Projects/techinwithella/src/MainPages/up.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { storage } from '../index';\nimport firebase from 'firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Container from '@material-ui/core/Container';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { AutoFixHighTwoTone } from '@mui/icons-material';\nimport { TextField } from '@material-ui/core';\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#4e18ac'\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  size: {\n    maxWidth: '300px',\n    maxHeight: '300px'\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  divWrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    // minHeight: '700px',\n    alignItems: 'center',\n    padding: '10px',\n    justifyContent: 'space-between'\n  },\n  div2Wrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '10px',\n    width: '70%',\n    maxWidth: '1000px'\n  },\n  div3Wrap: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'top',\n    padding: '4px',\n    justifyContent: 'space-around',\n    width: '100%',\n    margin: '10px 0'\n  },\n  buttonWrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  inputWrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    alignItems: 'flex-start'\n  },\n  h1Style: {\n    color: '#4e18ac'\n  },\n  buttonStyle: {\n    backgroundColor: '#4e18ac',\n    color: 'white',\n    width: '200px',\n    height: '50px',\n    textTransform: 'none'\n  }\n}));\n\nconst UploadImage = _ref => {\n  _s();\n\n  let {\n    histroy\n  } = _ref;\n  const classes = useStyles();\n  const allInputs = {\n    imgUrl: ''\n  };\n  const [imageAsFile, setImageAsFile] = useState('');\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\n  const [title, setTitle] = React.useState(\"\");\n  const [date, setDate] = React.useState(\"\");\n  const [readTime, setReadTime] = React.useState(\"\");\n  const [author, setAuthor] = React.useState(\"\");\n  const [paragraphs, setParagraphs] = React.useState(\"\");\n  const [image1, setImage1] = React.useState(\"\");\n  const [image2, setImage2] = React.useState(\"\");\n  const [image1Alt, setImage1Alt] = React.useState(\"\");\n  const [image2Alt, setImage2Alt] = React.useState(\"\");\n\n  const uploadData = _ref2 => {\n    let {\n      history\n    } = _ref2;\n    firebase.firestore().collection(\"Posts\").doc(title).set({\n      title: title,\n      author: author,\n      date: date,\n      readTime: readTime,\n      image1Alt: image1Alt\n    });\n  };\n\n  console.log(imageAsFile);\n\n  const handleImageAsFile = e => {\n    const image = e.target.files[0];\n    setImageAsFile(imageFile => image);\n  };\n\n  const handleFireBaseUpload = e => {\n    e.preventDefault();\n    console.log('start of upload'); // async magic goes here...\n\n    if (imageAsFile === '') {\n      console.error(`not an image, the image file is a ${typeof imageAsFile}`);\n    }\n\n    const uploadTask = storage.ref(`/images/${image1Alt}`).put(imageAsFile); //initiates the firebase side uploading\n\n    uploadTask.on('state_changed', snapShot => {\n      //takes a snap shot of the process as it is happening\n      console.log(snapShot);\n    }, err => {\n      //catches the errors\n      console.log(err);\n    }, () => {\n      // gets the functions from storage refences the image storage in firebase by the children\n      // gets the download url then sets the image from firebase as the value for the imgUrl key:\n      storage.ref('images').getDownloadURL().then(fireBaseUrl => {\n        setImageAsUrl(prevObject => ({ ...prevObject,\n          imgUrl: fireBaseUrl\n        }));\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.divWrap,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: classes.h1Style,\n      children: \"Upload Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.div2Wrap,\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        style: {\n          marginTop: '10px',\n          marginBottom: '10px',\n          width: '100%'\n        },\n        value: title,\n        placeholder: \"Title\",\n        onChange: e => setTitle(e.currentTarget.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: author,\n        placeholder: \"Author\",\n        style: {\n          marginTop: '10px',\n          marginBottom: '10px',\n          width: '100%'\n        },\n        onChange: e => setAuthor(e.currentTarget.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: date,\n        placeholder: \"Date\",\n        style: {\n          marginTop: '10px',\n          marginBottom: '10px',\n          width: '100%'\n        },\n        onChange: e => setDate(e.currentTarget.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: readTime,\n        placeholder: \"Read Time\",\n        style: {\n          marginTop: '10px',\n          marginBottom: '10px',\n          width: '100%'\n        },\n        onChange: e => setReadTime(e.currentTarget.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '10px 0 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          value: image1Alt,\n          placeholder: \"Image 1 ALT\",\n          style: {\n            marginTop: '10px',\n            marginBottom: '10px',\n            width: '100%'\n          },\n          onChange: e => setImage1Alt(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '10px 0 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handleImageAsFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.size,\n            style: {\n              margin: '0 0 10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imageAsUrl.imgUrl,\n              style: {\n                maxWidth: '300px'\n              },\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: classes.buttonStyle,\n            onClick: () => {\n              handleFireBaseUpload();\n              uploadData();\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 13\n  }, this);\n};\n\n_s(UploadImage, \"9PGYm/ht6BC2okuLjyuh9JeOUGs=\", false, function () {\n  return [useStyles];\n});\n\n_c = UploadImage;\nexport default UploadImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"sources":["/Users/23miec/Projects/techinwithella/src/MainPages/up.js"],"names":["React","useState","Button","storage","firebase","makeStyles","Checkbox","Select","InputLabel","MenuItem","Container","createMuiTheme","AutoFixHighTwoTone","TextField","useEffect","theme","palette","primary","main","useStyles","size","maxWidth","maxHeight","formControl","margin","spacing","minWidth","divWrap","display","flexDirection","alignItems","padding","justifyContent","div2Wrap","width","div3Wrap","buttonWrap","inputWrap","h1Style","color","buttonStyle","backgroundColor","height","textTransform","UploadImage","histroy","classes","allInputs","imgUrl","imageAsFile","setImageAsFile","imageAsUrl","setImageAsUrl","title","setTitle","date","setDate","readTime","setReadTime","author","setAuthor","paragraphs","setParagraphs","image1","setImage1","image2","setImage2","image1Alt","setImage1Alt","image2Alt","setImage2Alt","uploadData","history","firestore","collection","doc","set","console","log","handleImageAsFile","e","image","target","files","imageFile","handleFireBaseUpload","preventDefault","error","uploadTask","ref","put","on","snapShot","err","getDownloadURL","then","fireBaseUrl","prevObject","marginTop","marginBottom","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport { storage } from '../index'\nimport firebase from 'firebase'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Select from '@material-ui/core/Select'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Container from '@material-ui/core/Container'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { AutoFixHighTwoTone } from '@mui/icons-material'\nimport { TextField } from '@material-ui/core'\nimport { useEffect } from \"react\";\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#4e18ac',\n        },\n    },\n})\nconst useStyles = makeStyles((theme) => ({\n    size: {\n        maxWidth: '300px',\n        maxHeight: '300px',\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n\n    divWrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        // minHeight: '700px',\n        alignItems: 'center',\n        padding: '10px',\n        justifyContent: 'space-between',\n    },\n\n    div2Wrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: '10px',\n        width: '70%',\n        maxWidth: '1000px',\n    },\n\n    div3Wrap: {\n        display: 'flex',\n\n        flexDirection: 'row',\n        alignItems: 'top',\n        padding: '4px',\n        justifyContent: 'space-around',\n        width: '100%',\n        margin: '10px 0',\n    },\n    buttonWrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    inputWrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        alignItems: 'flex-start',\n    },\n\n    h1Style: {\n        color: '#4e18ac',\n    },\n    buttonStyle: {\n        backgroundColor: '#4e18ac',\n        color: 'white',\n        width: '200px',\n        height: '50px',\n        textTransform: 'none',\n    },\n}))\nconst UploadImage = ({histroy}) => {\n    const classes = useStyles()\n    const allInputs = { imgUrl: '' }\n    const [imageAsFile, setImageAsFile] = useState('')\n    const [imageAsUrl, setImageAsUrl] = useState(allInputs)\n    const [title, setTitle] = React.useState(\"\");\n    const [date, setDate] = React.useState(\"\");\n    const [readTime, setReadTime] = React.useState(\"\");\n    const [author, setAuthor] = React.useState(\"\");\n    const [paragraphs, setParagraphs] = React.useState(\"\");\n    const [image1, setImage1] = React.useState(\"\");\n    const [image2, setImage2] = React.useState(\"\");\n    const [image1Alt, setImage1Alt] = React.useState(\"\");\n    const [image2Alt, setImage2Alt] = React.useState(\"\");\n\n\n    const uploadData = ({history}) => {\n        firebase.firestore().collection(\"Posts\").doc(title).set({\n            title: title,\n            author: author,\n            date: date,\n            readTime: readTime,\n            image1Alt: image1Alt,\n        })}\n\n    console.log(imageAsFile)\n    const handleImageAsFile = (e) => {\n        const image = e.target.files[0]\n        setImageAsFile((imageFile) => image)\n    }\n\n    const handleFireBaseUpload = (e) => {\n        e.preventDefault()\n        console.log('start of upload')\n        // async magic goes here...\n        if (imageAsFile === '') {\n            console.error(\n                `not an image, the image file is a ${typeof imageAsFile}`\n            )\n        }\n\n\n        const uploadTask = storage.ref(`/images/${image1Alt}`).put(imageAsFile)\n        //initiates the firebase side uploading\n        uploadTask.on(\n            'state_changed',\n            (snapShot) => {\n                //takes a snap shot of the process as it is happening\n                console.log(snapShot)\n            },\n            (err) => {\n                //catches the errors\n                console.log(err)\n            },\n            () => {\n                // gets the functions from storage refences the image storage in firebase by the children\n                // gets the download url then sets the image from firebase as the value for the imgUrl key:\n                storage\n                    .ref('images')\n                    .getDownloadURL()\n                    .then((fireBaseUrl) => {\n                        setImageAsUrl((prevObject) => ({\n                            ...prevObject,\n                            imgUrl: fireBaseUrl,\n                        }))\n                    })\n            }\n        )\n    }\n\n\n    return (\n      \n            <div className={classes.divWrap}>\n            <h1 className={classes.h1Style}>Upload Post</h1>\n            <div className={classes.div2Wrap}>\n                <br />\n                <TextField\n                    style={{\n                        marginTop: '10px',\n                        marginBottom: '10px',\n                        width: '100%',\n                    }}\n                    value={title}\n                    placeholder=\"Title\"\n                    onChange={(e) => setTitle(e.currentTarget.value)}\n                />\n                <br />\n              \n\n                \n                <TextField\n                    value={author}\n                    placeholder=\"Author\"\n                    style={{\n                        marginTop: '10px',\n                        marginBottom: '10px',\n                        width: '100%',\n                    }}\n                    onChange={(e) => setAuthor(e.currentTarget.value)}\n                />\n                <br />\n                <TextField\n                    value={date}\n                    placeholder=\"Date\"\n                    style={{\n                        marginTop: '10px',\n                        marginBottom: '10px',\n                        width: '100%',\n                    }}\n                    onChange={(e) => setDate(e.currentTarget.value)}\n                />\n                <br />\n                <TextField\n                    value={readTime}\n                    placeholder=\"Read Time\"\n                    style={{\n                        marginTop: '10px',\n                        marginBottom: '10px',\n                        width: '100%',\n                    }}\n                    onChange={(e) => setReadTime(e.currentTarget.value)}\n                />\n                <br />\n            \n                <div style={{ margin: '10px 0 0' }}>\n                <TextField\n                value={image1Alt}\n                placeholder=\"Image 1 ALT\"\n                style={{\n                    marginTop: '10px',\n                    marginBottom: '10px',\n                    width: '100%',\n                }}\n                onChange={(e) => setImage1Alt(e.currentTarget.value)}\n            />\n                    \n                    <br />\n                    <div style={{ margin: '10px 0 0' }}>\n                        <input type=\"file\" onChange={handleImageAsFile} />\n                        <div\n                            className={classes.size}\n                            style={{ margin: '0 0 10px' }}\n                        >\n                            <img\n                                src={imageAsUrl.imgUrl}\n                                style={{ maxWidth: '300px' }}\n                                alt=\"\"\n                            />\n                        </div>\n                    </div>\n                   \n                    <form\n                     \n                    >\n                        <button\n                            className={classes.buttonStyle}\n                            onClick={() => {\n                                handleFireBaseUpload()\n                                uploadData()\n                                \n                            \n                            }}\n                        >\n                            Submit\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UploadImage\n"]},"metadata":{},"sourceType":"module"}