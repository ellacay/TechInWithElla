{"ast":null,"code":"var _jsxFileName = \"/Users/23miec/Projects/techinwithella/src/MainPages/BlogPosts.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useRef } from \"react\";\nimport firebase from \"firebase\";\nimport { useEffect } from \"react\";\nimport { useCallback } from \"react\";\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\nimport { CardActionArea } from '@mui/material';\nimport MuiAlert from \"@mui/material/Alert\";\nimport { storage } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BlogPosts = _ref => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  let {\n    history\n  } = _ref;\n  const useStyles = makeStyles(theme => ({\n    card: {\n      borderStyle: \"solid\",\n      borderColor: \"#b291f2\",\n      width: \"100%\",\n      height: \"100%\"\n    },\n    cardHeader: {\n      background: \"#e2d7f7\",\n      color: \"white\"\n    }\n  }));\n  const classes = useStyles();\n\n  const UrlInfo = props => {\n    _s();\n\n    console.log(props.name);\n    const [url, setUrl] = React.useState('');\n    var gsReference = storage.refFromURL(`gs://techinwithella.appspot.com/images/${props.name}`);\n    gsReference.getDownloadURL().then(function (url) {\n      setUrl(url);\n      console.log(url);\n    });\n    let history = useHistory();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: url,\n        alt: props.name,\n        width: \"100%\",\n        height: \"100%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this);\n  };\n\n  _s(UrlInfo, \"Uj90MbiyWb0C+VJNt5fb/TZ4vWo=\", false, function () {\n    return [useHistory];\n  });\n\n  const [blogPosts, setBlogPosts] = React.useState([]);\n\n  function createBlogPost(title, date, readTime, author, image1Alt, preview) {\n    return {\n      title,\n      date,\n      readTime,\n      author,\n      image1Alt,\n      preview\n    };\n  }\n\n  const [openError, setOpenError] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  const handleError = () => {\n    setOpenError(!openError);\n  };\n\n  const Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      ref: ref,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 16\n    }, this);\n  });\n  const handleGetPosts = useCallback(() => {\n    let items = [];\n    firebase.firestore().collection(\"Posts\").get().then(p => {\n      p.forEach(doc => {\n        let blogInformation = doc.data();\n        console.log(blogInformation);\n        items.push(createBlogPost(blogInformation.title, blogInformation.date, blogInformation.readTime, blogInformation.author, blogInformation.image1Alt, blogInformation.preview));\n        console.log(items);\n        setBlogPosts(items);\n        console.log(blogPosts);\n      });\n    }, [setBlogPosts]).catch(error => {\n      console.error(\"Error retrieving document: \", error);\n      setError(error.message);\n      handleError();\n    });\n  }, []);\n  useEffect(() => {\n    handleGetPosts();\n    console.log(blogPosts);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openError,\n      autoHideDuration: 6000,\n      onClose: handleError,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleError,\n        severity: \"success\",\n        sx: {\n          width: \"100%\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this), blogPosts.map(blogPosts => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"hey\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this)), blogPosts.map(blogPosts => /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.card,\n      onClick: () => {\n        history.push(`posts/${blogPosts.title}`);\n      },\n      sx: {\n        maxWidth: 345\n      },\n      children: /*#__PURE__*/_jsxDEV(CardActionArea, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: classes.cardHeader,\n          title: blogPosts.title,\n          subheader: blogPosts.date\n        }, blogPosts.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UrlInfo, {\n          name: \"First Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(BlogPosts, \"pzX/xo8Qf5b1d5rURpRvESJEJjE=\", true);\n\n_c = BlogPosts;\nexport default BlogPosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogPosts\");","map":{"version":3,"sources":["/Users/23miec/Projects/techinwithella/src/MainPages/BlogPosts.js"],"names":["React","useRef","firebase","useEffect","useCallback","Card","CardHeader","CardMedia","CardContent","Typography","CardActionArea","MuiAlert","storage","makeStyles","Snackbar","useHistory","BlogPosts","history","useStyles","theme","card","borderStyle","borderColor","width","height","cardHeader","background","color","classes","UrlInfo","props","console","log","name","url","setUrl","useState","gsReference","refFromURL","getDownloadURL","then","blogPosts","setBlogPosts","createBlogPost","title","date","readTime","author","image1Alt","preview","openError","setOpenError","error","setError","handleError","Alert","forwardRef","ref","handleGetPosts","items","firestore","collection","get","p","forEach","doc","blogInformation","data","push","catch","message","map","maxWidth"],"mappings":"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","sourcesContent":["\nimport React, { useRef } from \"react\";\nimport firebase from \"firebase\";\nimport { useEffect } from \"react\";\nimport { useCallback } from \"react\";\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\nimport { CardActionArea } from '@mui/material';\nimport MuiAlert from \"@mui/material/Alert\";\nimport { storage } from '../index'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { useHistory } from 'react-router-dom'\nconst BlogPosts = (({history})=>{\n\n\n  const useStyles = makeStyles((theme) => ({\n\n    card:{\n       borderStyle:\"solid\",\n       borderColor:\"#b291f2\",\n       width:\"100%\",\n       height:\"100%\",\n\n    },\n    cardHeader:{\n    background: \"#e2d7f7\",\n    color:\"white\"\n\n   },\n  }))\n\n  const classes = useStyles()\n    const UrlInfo = (props) => {\n      console.log(props.name)\n        const [url, setUrl] = React.useState('')\n    var gsReference = storage.refFromURL(`gs://techinwithella.appspot.com/images/${props.name}`)\n    gsReference.getDownloadURL().then(function(url) {\n        setUrl(url)\n        console.log(url);\n    })\n\n    let history = useHistory()\n    return(\n    \n        \n    \n        \n        <div>\n        <img src= {url} alt={props.name} width=\"100%\" height=\"100%\"/>\n        </div>)}\n\n    const [blogPosts, setBlogPosts] = React.useState([]);\n\n\n    function createBlogPost(\n      title,\n      date,\n      readTime,\n      author,\n      image1Alt,\n      preview,\n      ) {\n        return {\n            title,\n            date,\n            readTime,\n            author,\n            image1Alt,\n            preview,\n        };\n      }\n\n\n\n\n      const [openError, setOpenError] = React.useState(false);\n      const [error, setError] = React.useState(\"\");\n      const handleError = () => {\n        setOpenError(!openError);\n      };\n  \n\n      const Alert = React.forwardRef(function Alert(props, ref) {\n        return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n      });\n\n    const handleGetPosts = useCallback(() => {\n        let items = [];\n    \n        firebase\n          .firestore()\n          .collection(\"Posts\")\n          .get()\n          .then(\n            (p) => {\n              p.forEach((doc) => {\n                let blogInformation = doc.data();\n          console.log(blogInformation)\n                items.push(\n                  createBlogPost(\n                    blogInformation.title,\n                    blogInformation.date,\n                    blogInformation.readTime,\n                    blogInformation.author,\n                    blogInformation.image1Alt,\n                    blogInformation.preview,\n              \n                \n                  )\n                );\n                console.log(items)\n                setBlogPosts(items);\n                console.log(blogPosts)\n              });\n    \n \n         \n            },\n            [setBlogPosts]\n          )\n          .catch((error) => {\n            console.error(\"Error retrieving document: \", error);\n            setError(error.message);\n            handleError()\n          });\n      }, []);\n    \n\n      useEffect(() => {\n    \n        handleGetPosts()\n        console.log(blogPosts)\n              }, []);\n\n\n           \n  \n    return(\n        <div>\n    \n        <Snackbar\n        open={openError}\n        autoHideDuration={6000}\n        onClose={handleError}\n      >\n        <Alert\n          onClose={handleError}\n          severity=\"success\"\n          sx={{ width: \"100%\" }}\n        >\n         {error}\n        </Alert>\n      </Snackbar>\n\n      {blogPosts.map((blogPosts) => (\n        <p>hey</p>      ))}\n  \n      \n        {blogPosts.map((blogPosts) => (\n      \n            <Card \n            className={classes.card}\n            onClick={() => {\n           history.push(`posts/${blogPosts.title}`)\n              \n          \n          }}\n            sx={{ maxWidth: 345 }}>\n            <CardActionArea>\n            <CardHeader\n            key={blogPosts.title}\n            className={classes.cardHeader}\n            title={blogPosts.title}\n            subheader={blogPosts.date}\n          />\n          <UrlInfo name={\"First Post\"}></UrlInfo>\n      \n            </CardActionArea>\n          </Card>\n\n        ))}\n      \n        </div>\n    )})\n\n    export default BlogPosts"]},"metadata":{},"sourceType":"module"}