{"ast":null,"code":"var _jsxFileName = \"/Users/23miec/Projects/techinwithella/src/MainPages/UploadPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { storage } from '../index';\nimport firebase from 'firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Container from '@material-ui/core/Container';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { TextField } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#4e18ac'\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  size: {\n    maxWidth: '300px',\n    maxHeight: '300px'\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  divWrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    // minHeight: '700px',\n    alignItems: 'center',\n    padding: '10px',\n    justifyContent: 'space-between'\n  },\n  div2Wrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '10px',\n    width: '70%',\n    maxWidth: '1000px'\n  },\n  div3Wrap: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'top',\n    padding: '4px',\n    justifyContent: 'space-around',\n    width: '100%',\n    margin: '10px 0'\n  },\n  buttonWrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  inputWrap: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    alignItems: 'flex-start'\n  },\n  h1Style: {\n    color: '#4e18ac'\n  },\n  buttonStyle: {\n    backgroundColor: '#4e18ac',\n    color: 'white',\n    width: '200px',\n    height: '50px',\n    textTransform: 'none'\n  }\n}));\n\nconst UploadImage = () => {\n  _s();\n\n  const classes = useStyles();\n  const allInputs = {\n    imgUrl: ''\n  };\n  const [imageAsFile, setImageAsFile] = useState('');\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs);\n  const [title, setTitle] = React.useState(\"\");\n  const [date, setDate] = React.useState(\"\");\n  const [readTime, setReadTime] = React.useState(\"\");\n  const [author, setAuthor] = React.useState(\"\");\n  const [paragraphs, setParagraphs] = React.useState(\"\");\n  const [image1, setImage1] = React.useState(\"\");\n  const [image2, setImage2] = React.useState(\"\");\n  const [image1Alt, setImage1Alt] = React.useState(\"\");\n  const [image2Alt, setImage2Alt] = React.useState(\"\");\n  console.log(imageAsFile);\n\n  const handleImageAsFile = e => {\n    const image = e.target.files[0];\n    setImageAsFile(imageFile => image);\n  };\n\n  const handleFireBaseUpload = e => {\n    e.preventDefault();\n    console.log('start of upload'); // async magic goes here...\n\n    if (imageAsFile === '') {\n      console.error(`not an image, the image file is a ${typeof imageAsFile}`);\n    }\n\n    const uploadTask = storage.ref(`/images/${title}`).put(imageAsFile); //initiates the firebase side uploading\n\n    uploadTask.on('state_changed', snapShot => {\n      //takes a snap shot of the process as it is happening\n      console.log(snapShot);\n    }, err => {\n      //catches the errors\n      console.log(err);\n    }, () => {\n      // gets the functions from storage refences the image storage in firebase by the children\n      // gets the download url then sets the image from firebase as the value for the imgUrl key:\n      storage.ref('images').child(imageAsFile).getDownloadURL().then(fireBaseUrl => {\n        setImageAsUrl(prevObject => ({ ...prevObject,\n          imgUrl: fireBaseUrl\n        }));\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.divWrap,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes.h1Style,\n        children: \"Upload Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.div2Wrap,\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          style: {\n            marginTop: '10px',\n            marginBottom: '10px',\n            width: '100%'\n          },\n          value: title,\n          placeholder: \"Title\",\n          onChange: e => setTitle(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: author,\n          placeholder: \"Author\",\n          style: {\n            marginTop: '10px',\n            marginBottom: '10px',\n            width: '100%'\n          },\n          onChange: e => setAuthor(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: date,\n          placeholder: \"Date\",\n          style: {\n            marginTop: '10px',\n            marginBottom: '10px',\n            width: '100%'\n          },\n          onChange: e => setDate(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: readTime,\n          placeholder: \"Read Time\",\n          style: {\n            marginTop: '10px',\n            marginBottom: '10px',\n            width: '100%'\n          },\n          onChange: e => setReadTime(e.currentTarget.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '10px 0 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handleImageAsFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.size,\n            style: {\n              margin: '0 0 10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imageAsUrl.imgUrl,\n              style: {\n                maxWidth: '300px'\n              },\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: classes.buttonStyle,\n            onClick: () => {\n              handleFireBaseUpload();\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UploadImage, \"9PGYm/ht6BC2okuLjyuh9JeOUGs=\", false, function () {\n  return [useStyles];\n});\n\n_c = UploadImage;\nexport default UploadImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"sources":["/Users/23miec/Projects/techinwithella/src/MainPages/UploadPost.js"],"names":["React","useState","Button","storage","firebase","makeStyles","Checkbox","Select","InputLabel","MenuItem","Container","createMuiTheme","TextField","theme","palette","primary","main","useStyles","size","maxWidth","maxHeight","formControl","margin","spacing","minWidth","divWrap","display","flexDirection","alignItems","padding","justifyContent","div2Wrap","width","div3Wrap","buttonWrap","inputWrap","h1Style","color","buttonStyle","backgroundColor","height","textTransform","UploadImage","classes","allInputs","imgUrl","imageAsFile","setImageAsFile","imageAsUrl","setImageAsUrl","title","setTitle","date","setDate","readTime","setReadTime","author","setAuthor","paragraphs","setParagraphs","image1","setImage1","image2","setImage2","image1Alt","setImage1Alt","image2Alt","setImage2Alt","console","log","handleImageAsFile","e","image","target","files","imageFile","handleFireBaseUpload","preventDefault","error","uploadTask","ref","put","on","snapShot","err","child","getDownloadURL","then","fireBaseUrl","prevObject","marginTop","marginBottom","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport { storage } from '../index'\nimport firebase from 'firebase'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Select from '@material-ui/core/Select'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Container from '@material-ui/core/Container'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { TextField } from '@material-ui/core'\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#4e18ac',\n        },\n    },\n})\nconst useStyles = makeStyles((theme) => ({\n    size: {\n        maxWidth: '300px',\n        maxHeight: '300px',\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n\n    divWrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        // minHeight: '700px',\n        alignItems: 'center',\n        padding: '10px',\n        justifyContent: 'space-between',\n    },\n\n    div2Wrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: '10px',\n        width: '70%',\n        maxWidth: '1000px',\n    },\n\n    div3Wrap: {\n        display: 'flex',\n\n        flexDirection: 'row',\n        alignItems: 'top',\n        padding: '4px',\n        justifyContent: 'space-around',\n        width: '100%',\n        margin: '10px 0',\n    },\n    buttonWrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    inputWrap: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        alignItems: 'flex-start',\n    },\n\n    h1Style: {\n        color: '#4e18ac',\n    },\n    buttonStyle: {\n        backgroundColor: '#4e18ac',\n        color: 'white',\n        width: '200px',\n        height: '50px',\n        textTransform: 'none',\n    },\n}))\nconst UploadImage = () => {\n    const classes = useStyles()\n    const allInputs = { imgUrl: '' }\n    const [imageAsFile, setImageAsFile] = useState('')\n    const [imageAsUrl, setImageAsUrl] = useState(allInputs)\n\n\n    \n  \n    const [title, setTitle] = React.useState(\"\");\n    const [date, setDate] = React.useState(\"\");\n    const [readTime, setReadTime] = React.useState(\"\");\n    const [author, setAuthor] = React.useState(\"\");\n    const [paragraphs, setParagraphs] = React.useState(\"\");\n    const [image1, setImage1] = React.useState(\"\");\n    const [image2, setImage2] = React.useState(\"\");\n    const [image1Alt, setImage1Alt] = React.useState(\"\");\n    const [image2Alt, setImage2Alt] = React.useState(\"\");\n\n\n\n    console.log(imageAsFile)\n    const handleImageAsFile = (e) => {\n        const image = e.target.files[0]\n        setImageAsFile((imageFile) => image)\n    }\n\n    const handleFireBaseUpload = (e) => {\n        e.preventDefault()\n        console.log('start of upload')\n        // async magic goes here...\n        if (imageAsFile === '') {\n            console.error(\n                `not an image, the image file is a ${typeof imageAsFile}`\n            )\n        }\n\n        const uploadTask = storage.ref(`/images/${title}`).put(imageAsFile)\n        //initiates the firebase side uploading\n        uploadTask.on(\n            'state_changed',\n            (snapShot) => {\n                //takes a snap shot of the process as it is happening\n                console.log(snapShot)\n            },\n            (err) => {\n                //catches the errors\n                console.log(err)\n            },\n            () => {\n                // gets the functions from storage refences the image storage in firebase by the children\n                // gets the download url then sets the image from firebase as the value for the imgUrl key:\n                storage\n                    .ref('images')\n                    .child(imageAsFile)\n                    .getDownloadURL()\n                    .then((fireBaseUrl) => {\n                        setImageAsUrl((prevObject) => ({\n                            ...prevObject,\n                            imgUrl: fireBaseUrl,\n                        }))\n                    })\n            }\n        )\n    }\n\n\n    return (\n        <div className=\"App\">\n            <div className={classes.divWrap}>\n                <h1 className={classes.h1Style}>Upload Post</h1>\n                <div className={classes.div2Wrap}>\n                    <br />\n                    <TextField\n                        style={{\n                            marginTop: '10px',\n                            marginBottom: '10px',\n                            width: '100%',\n                        }}\n                        value={title}\n                        placeholder=\"Title\"\n                        onChange={(e) => setTitle(e.currentTarget.value)}\n                    />\n                    <br />\n                  \n\n                    \n                    <TextField\n                        value={author}\n                        placeholder=\"Author\"\n                        style={{\n                            marginTop: '10px',\n                            marginBottom: '10px',\n                            width: '100%',\n                        }}\n                        onChange={(e) => setAuthor(e.currentTarget.value)}\n                    />\n                    <br />\n                    <TextField\n                        value={date}\n                        placeholder=\"Date\"\n                        style={{\n                            marginTop: '10px',\n                            marginBottom: '10px',\n                            width: '100%',\n                        }}\n                        onChange={(e) => setDate(e.currentTarget.value)}\n                    />\n                    <br />\n                    <TextField\n                        value={readTime}\n                        placeholder=\"Read Time\"\n                        style={{\n                            marginTop: '10px',\n                            marginBottom: '10px',\n                            width: '100%',\n                        }}\n                        onChange={(e) => setReadTime(e.currentTarget.value)}\n                    />\n                    <br />\n                    <div style={{ margin: '10px 0 0' }}>\n                        <input type=\"file\" onChange={handleImageAsFile} />\n                        <div\n                            className={classes.size}\n                            style={{ margin: '0 0 10px' }}\n                        >\n                            <img\n                                src={imageAsUrl.imgUrl}\n                                style={{ maxWidth: '300px' }}\n                                alt=\"\"\n                            />\n                        </div>\n                    </div>\n                   \n                    <form>                       \n                        <button\n                            className={classes.buttonStyle}\n                            onClick={() => {\n                                handleFireBaseUpload()\n                               \n                            }}\n                        >\n                            Save\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UploadImage\n"]},"metadata":{},"sourceType":"module"}